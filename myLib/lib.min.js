class Big{static Products={};static editDom;static _init_(){var a=localStorage.getItem("products");if(null!==a){this.Products=JSON.parse(a);var th=document.createElement("tr"),PN=document.createElement("td"),PR=document.createElement("td"),Q=document.createElement("td"),E=document.createElement("td"),D=document.createElement("td");PN.innerHTML="<strong>Product name</strong>",PR.innerHTML="<strong>Price</strong>",Q.innerHTML="<strong>Quantity</strong>",th.append(PN),th.append(PR),th.append(Q),th.append(E),th.append(D),document.getElementById("products-table").append(th),document.getElementById("no-products").setAttribute("hidden","hidden");var ProductsKeys=Object.keys(this.Products);for(var product of ProductsKeys){var entries=Object.entries(this.Products[product]),tr=document.createElement("tr"),deltd=document.createElement("td"),delbtn=document.createElement("button");delbtn.setAttribute("class","btn btn-outline-danger btn-sm"),delbtn.setAttribute("data-idd",product),delbtn.setAttribute("onclick","Big.del(this);"),delbtn.innerHTML="Delete",deltd.append(delbtn);var edittd=document.createElement("td"),editbtn=document.createElement("button");for(var entry of(editbtn.setAttribute("class","btn btn-outline-primary btn-sm"),edittd.setAttribute("align","right"),editbtn.setAttribute("data-idd",product),editbtn.setAttribute("onclick","Big.edit(this);"),editbtn.innerHTML="Edit",edittd.append(editbtn),entries)){var pN=document.createElement("td"),p=document.createElement("p");p.innerHTML=entry[1],pN.append(p),tr.append(pN)}tr.append(edittd),tr.append(deltd),document.getElementById("products-table").append(tr)}}else document.getElementById("no-products").removeAttribute("hidden")}static Add(productName,price,quantity){var d=Object.keys(this.Products),date=new Date,id=String(date.getDate())+String(date.getMonth())+String(date.getFullYear())+String(date.getHours())+String(date.getMinutes())+String(date.getSeconds())+String(date.getMilliseconds()),uid=uuidv4()+"_"+id;if(this.Products[uid]={product:productName,price:price,quantity:quantity},localStorage.setItem("products",JSON.stringify(this.Products)),0==d.length){var th=document.createElement("tr"),PN=document.createElement("td"),PR=document.createElement("td"),Q=document.createElement("td"),E=document.createElement("td"),D=document.createElement("td");PN.innerHTML="<strong>Product name</strong>",PR.innerHTML="<strong>Price</strong>",Q.innerHTML="<strong>Quantity</strong>",th.append(PN),th.append(PR),th.append(Q),th.append(E),th.append(D),document.getElementById("products-table").append(th)}var tr=document.createElement("tr"),pN=document.createElement("td"),PNp=document.createElement("p");PNp.innerHTML=productName,pN.append(PNp),tr.append(pN);var Pr=document.createElement("td"),PrP=document.createElement("p");PrP.innerHTML=price,Pr.append(PrP),tr.append(Pr);var quant=document.createElement("td"),qp=document.createElement("p");qp.innerHTML=quantity,quant.append(qp),tr.append(quant);var deltd=document.createElement("td"),delbtn=document.createElement("button");delbtn.setAttribute("class","btn btn-outline-danger btn-sm"),delbtn.setAttribute("data-idd",uid),delbtn.setAttribute("onclick","Big.del(this);"),delbtn.innerHTML="Delete",deltd.append(delbtn);var edittd=document.createElement("td"),editbtn=document.createElement("button");return editbtn.setAttribute("class","btn btn-outline-primary btn-sm"),edittd.setAttribute("align","right"),editbtn.setAttribute("data-idd",uid),editbtn.setAttribute("onclick","Big.edit(this);"),editbtn.innerHTML="Edit",edittd.append(editbtn),tr.append(edittd),tr.append(deltd),document.getElementById("products-table").append(tr),!0}static edit(dom){var uid=dom.getAttribute("data-idd"),details=this.Products[uid];document.getElementById("product-name-box").value=details.product,document.getElementById("price-box").value=details.price,document.getElementById("quantity-box").value=details.quantity,document.getElementById("add-product-btn").setAttribute("hidden","hidden"),document.getElementById("update-product-btn").setAttribute("data-idd",uid),document.getElementById("update-product-btn").removeAttribute("hidden"),this.editDom=dom,$("#Add-product-modal").modal("show")}static del(dom){var uid=dom.getAttribute("data-idd");delete this.Products[uid],localStorage.setItem("products",JSON.stringify(this.Products)),dom.parentElement.parentElement.remove()}static Update(dom){var uid=dom.getAttribute("data-idd"),product_box_dom=document.getElementById("product-name-box"),price_box_dom=document.getElementById("price-box"),quantity_box_dom=document.getElementById("quantity-box"),invalid_for_product=document.getElementById("invaild-product-name"),invalid_price=document.getElementById("invaild-price");document.getElementById("invaild-quantity");product_box_dom.setAttribute("class","form-control"),price_box_dom.setAttribute("class","form-control"),quantity_box_dom.setAttribute("class","form-control");var reg=/^\d+$/;if(product_box_dom.value.trim().length>0&&price_box_dom.value.trim().length>0&&1==reg.test(price_box_dom.value)&&quantity_box_dom.value.trim().length>0&&1==reg.test(quantity_box_dom.value)){var pro=product_box_dom.value,pri=price_box_dom.value,qua=quantity_box_dom.value;product_box_dom.value="",price_box_dom.value="",quantity_box_dom.value="",$("#Add-product-modal").modal("hide"),document.getElementById("add-product-btn").removeAttribute("hidden"),document.getElementById("update-product-btn").removeAttribute("data-idd"),document.getElementById("update-product-btn").setAttribute("hidden","hidden"),this.Products[uid]={product:pro,price:pri,quantity:qua},localStorage.setItem("products",JSON.stringify(this.Products)),location.reload()}else 0==product_box_dom.value.trim().length?(invalid_for_product.innerHTML="Product Name cannot be empty",product_box_dom.setAttribute("class","form-control is-invalid")):0==price_box_dom.value.trim().length?(invalid_price.innerHTML="Price cannot be empty",price_box_dom.setAttribute("class","form-control is-invalid")):0==reg.test(price_box_dom.value)?(invalid_price.innerHTML="Price can only be a number",price_box_dom.setAttribute("class","form-control is-invalid")):0==quantity_box_dom.value.trim().length?("Quantity cannot be empty",quantity_box_dom.setAttribute("class","form-control is-invalid")):0==reg.test(quantity_box_dom.value)&&("Quantity can only be a number",quantity_box_dom.setAttribute("class","form-control is-invalid"));return!0}}